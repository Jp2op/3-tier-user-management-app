curl -sLO "https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz"
tar -xzf eksctl_$( uname -s)_amd64.tar.gz
sudo mv eksctl /usr/local/bin
eksctl version


eksctl utils associate-iam-oidc-provider --region us-east-1 --cluster jp-cluster --approve


eksctl create iamserviceaccount \
  --region us-east-1 \
  --name ebs-csi-controllersa \
  --namespace kube-system \
  --cluster jp-cluster \
  --attach-policy-arn arn:aws:iam::aws:policy/service-role/AmazonEBSCSIDriverPolicy \
  --approve \
  --override-existing-serviceaccounts



kubectl apply -k "github.com/kubernetes-sigs/aws-ebs-csi-driver/deploy/kubernetes/overlays/stable/ecr/?ref=release-1.11"

kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml

kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.12.0/cert-manager.yaml